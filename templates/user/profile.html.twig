{% extends 'base.html.twig' %}

{% block title %}Profil de {{ user.username }}{% endblock %}

{% block body %}
  <div class="container py-2">
    <!-- Avatar Section -->
    <section class="mb-5">
      <div class="d-flex justify-content-between align-items-center">
        <h1>ðŸ‘¤ {{ user.username }}</h1>
  
        <a href="{{ path('app_user_delete_profile') }}" class="mb-1 btn btn-danger">Supprimer votre profil</a>
      </div>

      
      <div class="card shadow-sm p-3">
        <div class="h-100 d-flex align-items-center justify-content-between">
          <div class="h-100 d-flex align-items-center gap-5">
            <!-- Avatar -->
            <div class="avatar-wrapper position-relative">
              <a href="{{ path('app_user_edit_avatar') }}">
              {% if user.avatar %}
                  <img src="{{ user.avatar }}" alt="Avatar de {{ user.username }}" class="avatar img-fluid rounded-circle shadow-sm">
              {% elseif user.avatarUrl %}
                  <img src="{{ user.avatarUrl }}" alt="Avatar de {{ user.username }}" class="avatar img-fluid rounded-circle shadow-sm">
              {% else %}
                  <img src="/images/default-avatar.png" alt="Avatar par dÃ©faut" class="avatar img-fluid rounded-circle shadow-sm">
              {% endif %}
                <img src="{{ asset('images/edit.svg') }}"
                  alt="Modifier l'avatar"
                  class="avatar-icon position-absolute top-50 start-50 translate-middle"
                >
              </a>
            </div>

            <!-- Infos utilisateur -->
            <div class="text-start">
              <p class="mb-1"><strong>Email</strong> : {{ user.email }}</p>

              <p class="mb-1">
                <strong>RÃ´le</strong> : 
                {% if 'ROLE_ADMIN' in user.roles %}
                  AdministrateurÂ·rice
                {% elseif 'ROLE_EMPLOYEE' in user.roles %}
                  EmployÃ©Â·e
                {% elseif 'ROLE_BENEVOLE' in user.roles %}
                  BÃ©nÃ©vole
                {% else %}
                  ApprenantÂ·e
                {% endif %}
              </p>

              <p class="mb-0">
                <strong>Membre depuis le</strong> : {{ user.createdAt|date('d/m/Y') }}
              </p>
            </div>

          </div>

          <div class="d-flex flex-column align-items-end">
            <a href="{{ path('app_user_edit_pseudo') }}" class="mb-1 btn btn-crilzz">Modifier votre pseudo</a>
            <a href="{{ path('app_user_edit_email') }}" class="mb-1 btn btn-crilzz">Modifier votre email</a>
            <a href="{{ path('app_user_edit_password') }}" class="mb-1 btn btn-crilzz">Modifier votre mot de passe</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Informations gÃ©nÃ©rales -->
    <section class="mb-4">
    
    </section>

    <!-- Crilzz (Derniers Crilzz) -->
    <section class="mb-4">
      <h2 class="h4 text-crilzz mb-3">Mes derniers Crilzz</h2>
      <div class="row row-cols-1 row-cols-md-3 g-4">
        <!-- Card 1 -->
        <div class="col">
          <div class="card shadow-sm h-100">
            <div class="card-body">
              <h3 class="card-title h5">HameÃ§onnage</h3>
              <p class="card-text">blabliblou</p>
            </div>
            <div class="card-footer d-flex justify-content-between bg-light">
              <a href="#" class="btn btn-outline-crilzz btn-sm">Voir plus</a>
              <a href="#" class="btn btn-crilzz btn-sm">Ouvrir une session</a>
            </div>
          </div>
        </div>
        <!-- Card 2 -->
        <div class="col">
          <div class="card shadow-sm h-100">
            <div class="card-body">
              <h3 class="card-title h5">Phishing</h3>
              <p class="card-text">blabliblou</p>
            </div>
            <div class="card-footer d-flex justify-content-between bg-light">
              <a href="#" class="btn btn-outline-crilzz btn-sm">Voir plus</a>
              <a href="#" class="btn btn-crilzz btn-sm">Ouvrir une session</a>
            </div>
          </div>
        </div>
        <!-- Card 3 -->
        <div class="col">
          <div class="card shadow-sm h-100">
            <div class="card-body">
              <h3 class="card-title h5">RÃ©seaux sociaux</h3>
              <p class="card-text">blabliblou</p>
            </div>
            <div class="card-footer d-flex justify-content-between bg-light">
              <a href="#" class="btn btn-outline-crilzz btn-sm">Voir plus</a>
              <a href="#" class="btn btn-crilzz btn-sm">Ouvrir une session</a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
{% endblock %}
